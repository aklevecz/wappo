(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],{46:function(e,t,n){e.exports=n(89)},81:function(e,t){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(37),a=n.n(o),u=n(5),i=n(2),s=n(42),f=n(16),l=n(17),b=n.n(l),d=n(38),p=n(39),v=n.n(p);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m,w=c.a.createContext();m="https://eng.med--lab.org";var O=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/words/"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=v()(m,{path:"/socket.io",transport:["websocket"]}),y=function(e,t){switch(t.type){case"INCREMENT":var n=t.word,r=n.word,c=n.vote;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(f.a)({},r,c));case"init":return t.newState;default:return e}},h=function(e,t){switch(t.type){case"init":return t.words;case"ADD_WORD":return[].concat(Object(s.a)(e),[t.word.word])}},E=function(e){var t=e.children,n=Object(r.useReducer)(h,[]),o=Object(u.a)(n,2),a=o[0],i=o[1],s=Object(r.useReducer)(y,{}),f=Object(u.a)(s,2),l=f[0],b=f[1];return Object(r.useEffect)((function(){return g.on("updateword",(function(e){e.isNew&&i({type:"ADD_WORD",word:e}),b({type:"INCREMENT",word:e})})),O().then((function(e){var t={},n=e.map((function(e){return t[e.word]=e.vote,e.word}));i({type:"init",words:n}),b({type:"init",newState:t})})),function(){return g.close()}}),[]),c.a.createElement(w.Provider,{value:{wordz:a,socket:g,votez:l}},t)},k=n(3),x=n(1),D=function(e){var t=e.data;return Object(r.useEffect)((function(){if(0!==Object.keys(t).length){console.log(t);x.g().domain([0,20]).range([30,55]);var e=Object.keys(t).map((function(e){return{name:e,radius:t[e]}})),n=x.f(e).force("charge",x.e().strength(100)).force("center",x.c(200,200)).force("collision",x.d().radius((function(e){return e.radius}))).on("tick",(function(){c.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),o.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y}))}));x.h("svg").call(x.a().subject((function(){return n.find(x.b.x,x.b.y)})).on("start",(function(){x.b.active||n.alphaTarget(.3).restart();x.b.subject.fx=x.b.subject.x,x.b.subject.fy=x.b.subject.y})).on("drag",(function(){x.b.subject.fx=x.b.x,x.b.subject.fy=x.b.y})).on("end",(function(){x.b.active||n.alphaTarget(0);x.b.subject.fx=null,x.b.subject.fy=null})));var r=x.h("svg").selectAll("circle").data(e).enter(),c=r.append("circle").attr("r",(function(e){return e.radius})),o=r.append("text").attr("text-anchor","middle").style("font-size","1rem").style("fill","red").text((function(e){return e.name}));return function(){x.h("svg").selectAll("*").remove()}}}),[t]),c.a.createElement("svg",{width:"400",height:"400"})};function C(){var e=Object(i.a)(["\n  background: ",";\n"]);return C=function(){return e},e}function P(){var e=Object(i.a)(["\n  background: ",";\n"]);return P=function(){return e},e}function R(){var e=Object(i.a)(["\n  background: ",";\n"]);return R=function(){return e},e}function S(){var e=Object(i.a)(["\n  padding: 1rem;\n"]);return S=function(){return e},e}function z(){var e=Object(i.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  text-align: center;\n  padding: 0 3rem;\n"]);return z=function(){return e},e}function A(){var e=Object(i.a)(["\n  background: ",";\n  height: 100%;\n"]);return A=function(){return e},e}var N={mood:"#e159e1",object:"#53e553",sensibility:"#ffff82"},T=k.a.div(A(),(function(e){return e.color})),W=k.a.div(z()),I=k.a.div(S()),M=Object(k.a)(I)(R(),N.mood),B=Object(k.a)(I)(P(),N.object),J=Object(k.a)(I)(C(),N.sensibility);var _=function(){var e=Object(r.useContext)(w),t=e.wordz,n=e.socket,o=e.votez,a=Object(r.useState)("mood"),i=Object(u.a)(a,2),s=i[0],f=i[1],l=Object(r.useState)(""),b=Object(u.a)(l,2),d=b[0],p=b[1],v=function(e){f(e.target.innerHTML)};return c.a.createElement(T,{color:N[s]},c.a.createElement(D,{data:o}),c.a.createElement(W,null,c.a.createElement(M,{onClick:v},"mood"),c.a.createElement(B,{onClick:v},"object"),c.a.createElement(J,{onClick:v},"sensibility")),t.map((function(e){return c.a.createElement("div",{key:e}," ",c.a.createElement("div",null,e,"-",o[e])," ",c.a.createElement("button",{onClick:function(){return function(e){n.emit("voteword",e)}(e)}},"+"))})),c.a.createElement("form",null,c.a.createElement("input",{onChange:function(e){p(e.target.value)}}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),n.emit("addword",d)}},"ADD")))};n(88),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(E,null,c.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.bf44cb6a.chunk.js.map