(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],{46:function(e,t,n){e.exports=n(89)},81:function(e,t){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(37),a=n.n(c),i=n(5),u=n(2),l=n(42),s=n(16),f=n(17),d=n.n(f),b=n(38),p=n(39),m=n.n(p);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w,O=o.a.createContext();w="https://eng.med--lab.org";var g=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/words/"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=m()(w,{path:"/socket.io"}),y=function(e,t){switch(t.type){case"INCREMENT":var n=t.word,r=n.word,o=n.vote;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(s.a)({},r,o));case"init":return t.newState;default:return e}},h=function(e,t){switch(t.type){case"init":return t.words;case"ADD_WORD":return[].concat(Object(l.a)(e),[t.word.word])}},E=function(e){var t=e.children,n=Object(r.useReducer)(h,[]),c=Object(i.a)(n,2),a=c[0],u=c[1],l=Object(r.useReducer)(y,{}),s=Object(i.a)(l,2),f=s[0],d=s[1];return Object(r.useEffect)((function(){return j.on("updateword",(function(e){e.isNew&&u({type:"ADD_WORD",word:e}),d({type:"INCREMENT",word:e})})),g().then((function(e){var t={},n=e.map((function(e){return t[e.word]=e.vote,e.word}));u({type:"init",words:n}),d({type:"init",newState:t})})),function(){return j.close()}}),[]),o.a.createElement(O.Provider,{value:{wordz:a,socket:j,votez:f}},t)},k=n(3),x=n(1),D=function(e){var t=e.data;return console.log(t),Object(r.useEffect)((function(){if(0!==Object.keys(t).length){console.log("hi",t);var e=x.e().domain([0,200]).range([30,55]),n=Object.keys(t).map((function(n){return{name:n,radius:e(t[n])}}));console.log(1);x.d(n).force("charge",x.c().strength(5)).force("center",x.a(200,200)).force("collision",x.b().radius((function(e){return e.radius}))).on("tick",(function(){var e=x.f("svg").selectAll("circle").data(n);e.enter().append("circle").attr("r",(function(e){return e.radius})).merge(e).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).text((function(e){return e.name}));var t=x.f("svg").selectAll("text").data(n);t.enter().append("text").merge(t).attr("text-anchor","middle").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).style("font-size","1rem").style("fill","red").text((function(e){return e.name})),e.exit().remove(),t.exit().remove()}));return function(){console.log("clean")}}}),[t]),o.a.createElement("svg",{width:"400",height:"400"})};function C(){var e=Object(u.a)(["\n  background: ",";\n"]);return C=function(){return e},e}function P(){var e=Object(u.a)(["\n  background: ",";\n"]);return P=function(){return e},e}function R(){var e=Object(u.a)(["\n  background: ",";\n"]);return R=function(){return e},e}function S(){var e=Object(u.a)(["\n  padding: 1rem;\n"]);return S=function(){return e},e}function z(){var e=Object(u.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  text-align: center;\n  padding: 0 3rem;\n"]);return z=function(){return e},e}function A(){var e=Object(u.a)(["\n  background: ",";\n  height: 100%;\n"]);return A=function(){return e},e}var N={mood:"#e159e1",object:"#53e553",sensibility:"#ffff82"},W=k.a.div(A(),(function(e){return e.color})),I=k.a.div(z()),M=k.a.div(S()),T=Object(k.a)(M)(R(),N.mood),B=Object(k.a)(M)(P(),N.object),J=Object(k.a)(M)(C(),N.sensibility);var _=function(){var e=Object(r.useContext)(O),t=e.wordz,n=e.socket,c=e.votez,a=Object(r.useState)("mood"),u=Object(i.a)(a,2),l=u[0],s=u[1],f=Object(r.useState)(""),d=Object(i.a)(f,2),b=d[0],p=d[1],m=function(e){s(e.target.innerHTML)};return o.a.createElement(W,{color:N[l]},o.a.createElement(D,{data:c}),o.a.createElement(I,null,o.a.createElement(T,{onClick:m},"mood"),o.a.createElement(B,{onClick:m},"object"),o.a.createElement(J,{onClick:m},"sensibility")),t.map((function(e){return o.a.createElement("div",{key:e}," ",o.a.createElement("div",null,e,"-",c[e])," ",o.a.createElement("button",{onClick:function(){return function(e){n.emit("voteword",e)}(e)}},"+"))})),o.a.createElement("form",null,o.a.createElement("input",{onChange:function(e){p(e.target.value)}}),o.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),n.emit("addword",b)}},"ADD")))};n(88),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(E,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.84e5781a.chunk.js.map